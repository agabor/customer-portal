<div class="list-group">
    <table class="table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Login link</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let user of project.users">
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td><span [hidden]="user.loginToken == null">{{getLoginLink(user)}}</span></td>
        </tr>
        </tbody>
    </table>
</div>
<h2>New User</h2>
<form  (ngSubmit)="onSubmit()"  #newUserForm="ngForm">
    {{diagnostic}}
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" required
               [(ngModel)]="newUser.name" name="name" #name="ngModel">
        <div [hidden]="name.valid || name.pristine"
             class="alert alert-danger">
            Name is required
        </div>
    </div>
    <div class="form-group">
        <label for="email">E-mail</label>
        <input type="email" class="form-control" id="email" email
               [(ngModel)]="newUser.email" name="email" #email="ngModel">
        <div [hidden]="email.valid || email.pristine"
             class="alert alert-danger">
                Not a valid e-mail address
        </div>
    </div>
    <button type="submit" class="btn btn-success" [disabled]="!newUserForm.form.valid">Add</button>
</form>